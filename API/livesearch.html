<input type="text" id="search" placeholder="Search products...">
<div id="loading" style="display:none;">Loading...</div>
<div id="results"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$("#search").on("keyup", function () {
    let value = $(this).val();
    $("#loading").show();

    $.ajax({
        url: "http://localhost:3001/products?q=" + value,
        method: "GET",
        success: function (data) {
            $("#loading").hide();

            if (data.length === 0) {
                $("#results").html("<p>No products found</p>");
                return;
            }

            let output = "";
            data.forEach(p => {
                output += `
                    <div>
                        <img src="${p.image}" width="80">
                        <h3>${p.name}</h3>
                        <p>Price: â‚¹${p.price}</p>
                    </div>`;
            });

            $("#results").html(output);
        }
    });
});
</script>

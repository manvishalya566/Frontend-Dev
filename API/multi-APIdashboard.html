<p id="users">Loading...</p>
<p id="orders">Loading...</p>
<p id="products">Loading...</p>
<p id="warning" style="color:red;"></p>

<script>
Promise.all([
    fetch("http://localhost:3004/users"),
    fetch("http://localhost:3004/orders"),
    fetch("http://localhost:3004/products")
])
.then(async ([u, o, p]) => {
    if (!u.ok || !o.ok || !p.ok) {
        document.getElementById("warning").innerText =
            "Some data could not be loaded.";
    }

    document.getElementById("users").innerText = "Users: " + (await u.json()).length;
    document.getElementById("orders").innerText = "Orders: " + (await o.json()).length;
    document.getElementById("products").innerText = "Products: " + (await p.json()).length;
})
.catch(() => {
    document.getElementById("warning").innerText = "Some data could not be loaded.";
});
</script>

<!DOCTYPE html>
<html>
<head>
<style>
  ul { padding: 0; list-style: none; }
  li { display: flex; gap: 8px; margin: 6px 0; }
  .name { flex: 1; }
</style>
</head>

<body>
<h2>Product List</h2>
<input id="prodInput" placeholder="Add product" />
<button id="addBtn">Add</button>

<ul id="prodList"></ul>

<script>
// Add product
document.getElementById("addBtn").onclick = () => {
  let v = prodInput.value.trim();
  if(!v) return;
  prodList.innerHTML += `
    <li>
      <span class="name">${v}</span>
      <button class="edit">Edit</button>
      <button class="del">Delete</button>
    </li>`;
  prodInput.value = "";
};

// Event delegation
prodList.addEventListener("click", e => {
  let li = e.target.closest("li");
  if(!li) return;

  // Delete
  if(e.target.classList.contains("del")) {
    li.remove();
  }

  // Edit
  if(e.target.classList.contains("edit")) {
    let span = li.querySelector(".name");
    let current = span.textContent;
    let inp = document.createElement("input");
    inp.value = current;
    span.replaceWith(inp);
    inp.focus();

    // Save when clicking outside
    document.addEventListener("click", function save(ev){
      if(!inp.contains(ev.target)) {
        let newSpan = document.createElement("span");
        newSpan.className = "name";
        newSpan.textContent = inp.value.trim() || "Untitled";
        inp.replaceWith(newSpan);
        document.removeEventListener("click", save);
      }
    });
  }
});
</script>
</body>
</html>
